{"title":"Centos ssh免密码登陆配置","slug":"Setting_up_ssh_in_CentOS","date":"2021-12-26T17:48:22.000Z","updated":"2024-09-06T08:45:52.126Z","comments":true,"path":"api/articles/Setting_up_ssh_in_CentOS.json","excerpt":null,"covers":null,"content":"<p>测试 ssh 是否安装</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -<span class=\"keyword\">qa</span> | <span class=\"keyword\">grep</span> ssh</span><br></pre></td></tr></table></figure>\n<p>若返回的结果中包括 SSH client 和 SSH server ,则不需要再安装 若需安装，通过以下命令</p>\n<figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum <span class=\"keyword\">install</span> openssh-clients </span><br><span class=\"line\">yum <span class=\"keyword\">install</span> openssh-server</span><br></pre></td></tr></table></figure>\n\n<p>查看主机名称</p>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">hostname</span></span><br></pre></td></tr></table></figure>\n\n<p>然后 </p>\n<figure class=\"highlight isbl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">ssh</span> <span class=\"function\"><span class=\"title\">hostname</span>(自己的主机名)</span></span><br></pre></td></tr></table></figure>\n<p>设置免密码登陆</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~/.ssh </span><br><span class=\"line\">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>\n\n<p>通过 ssh-keygen 命令来生成密钥对在.ssh 目录下（会有提示，回车即可）。<br>此命令执行后，会在~&#x2F;.ssh 目录下生成私钥 id_rsa 和公钥 id_rsa.pub </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> id_rsa.pub &gt;&gt; authorized_keys </span><br></pre></td></tr></table></figure>\n<p>将 id_rsa.pub 中的公钥信息保存到 authorized_keys 中 </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> 600 ./authorized_keys</span><br></pre></td></tr></table></figure>\n<p>修改文件授权 此时用 ssh hostname 命令，无需密码即可直接登陆。</p>\n","more":"<p>测试 ssh 是否安装</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -<span class=\"keyword\">qa</span> | <span class=\"keyword\">grep</span> ssh</span><br></pre></td></tr></table></figure>\n<p>若返回的结果中包括 SSH client 和 SSH server ,则不需要再安装 若需安装，通过以下命令</p>\n<figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum <span class=\"keyword\">install</span> openssh-clients </span><br><span class=\"line\">yum <span class=\"keyword\">install</span> openssh-server</span><br></pre></td></tr></table></figure>\n\n<p>查看主机名称</p>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">hostname</span></span><br></pre></td></tr></table></figure>\n\n<p>然后 </p>\n<figure class=\"highlight isbl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">ssh</span> <span class=\"function\"><span class=\"title\">hostname</span>(自己的主机名)</span></span><br></pre></td></tr></table></figure>\n<p>设置免密码登陆</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~/.ssh </span><br><span class=\"line\">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>\n\n<p>通过 ssh-keygen 命令来生成密钥对在.ssh 目录下（会有提示，回车即可）。<br>此命令执行后，会在~&#x2F;.ssh 目录下生成私钥 id_rsa 和公钥 id_rsa.pub </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> id_rsa.pub &gt;&gt; authorized_keys </span><br></pre></td></tr></table></figure>\n<p>将 id_rsa.pub 中的公钥信息保存到 authorized_keys 中 </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> 600 ./authorized_keys</span><br></pre></td></tr></table></figure>\n<p>修改文件授权 此时用 ssh hostname 命令，无需密码即可直接登陆。</p>\n","categories":[{"name":"代码世界","path":"api/categories/代码世界.json"}],"tags":[{"name":"centos","path":"api/tags/centos.json"},{"name":"ssh","path":"api/tags/ssh.json"}]}